{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nimport { useI18n } from 'vue-i18n';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'Login',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const {\n      t\n    } = useI18n();\n    const router = useRouter();\n    const email = ref('');\n    const password = ref('');\n    const logo = require('../assets/logo.png');\n    const login = async () => {\n      if (!email.value || !password.value) {\n        return; // Impide el envío del formulario si los campos están vacíos\n      }\n      try {\n        const response = await axios.post('http://localhost:4000/api/login', {\n          email: email.value,\n          password: password.value\n        });\n        localStorage.setItem('token', response.data.access_token);\n        // Redirigir a una página protegida\n        router.push('/dashboard');\n      } catch (error) {\n        alert(t('login.invalidCredentials'));\n      }\n    };\n    const __returned__ = {\n      t,\n      router,\n      email,\n      password,\n      logo,\n      login,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get useI18n() {\n        return useI18n;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","useI18n","useRouter","t","router","email","password","logo","require","login","value","response","post","localStorage","setItem","data","access_token","push","error","alert"],"sources":["/home/alumno/Escritorio/trabajo_fin/Frontend/hackathon-admin/src/components/Login.vue"],"sourcesContent":["<template>\n  <div class=\"flex min-h-0 mb-5 mt-20 flex-col justify-center px-6 lg:px-8\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n      <img class=\"mx-auto h-10 w-auto\" :src=\"logo\" alt=\"Logo\">\n      <h2 class=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">{{ t('login.title') }}</h2>\n    </div>\n\n    <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n      <form class=\"space-y-6\" @submit.prevent=\"login\">\n        <div>\n          <label for=\"email\" class=\"block text-sm font-medium leading-6 text-gray-900\">{{ t('login.email') }}</label>\n          <div class=\"mt-2\">\n            <input v-model=\"email\" id=\"email\" name=\"email\" type=\"email\" autocomplete=\"email\" required :placeholder=\"t('login.emailPlaceholder')\" class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n            <p v-if=\"!email\" class=\"text-sm text-red-500\">{{ t('login.emailRequired') }}</p>\n          </div>\n        </div>\n\n        <div>\n          <div class=\"flex items-center justify-between\">\n            <label for=\"password\" class=\"block text-sm font-medium leading-6 text-gray-900\">{{ t('login.password') }}</label>\n          </div>\n          <div class=\"mt-2\">\n            <input v-model=\"password\" id=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\" required :placeholder=\"t('login.passwordPlaceholder')\" class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n            <p v-if=\"!password\" class=\"text-sm text-red-500\">{{ t('login.passwordRequired') }}</p>\n          </div>\n        </div>\n\n        <div>\n          <button type=\"submit\" class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">{{ t('login.signIn') }}</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useI18n } from 'vue-i18n';\nimport { useRouter } from 'vue-router';\n\nconst { t } = useI18n();\nconst router = useRouter();\n\nconst email = ref('');\nconst password = ref('');\nconst logo = require('../assets/logo.png');\n\nconst login = async () => {\n  if (!email.value || !password.value) {\n    return; // Impide el envío del formulario si los campos están vacíos\n  }\n  try {\n    const response = await axios.post('http://localhost:4000/api/login', {\n      email: email.value,\n      password: password.value\n    });\n    localStorage.setItem('token', response.data.access_token);\n    // Redirigir a una página protegida\n   router.push('/dashboard');\n  } catch (error) {\n    alert(t('login.invalidCredentials'));\n  }\n};\n</script>\n\n<style scoped>\n\n.mx-auto {\nwidth: 40%;\nheight: 40%;\n}\n\n\n\n\n</style>"],"mappings":"AAoCA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,UAAU;AAClC,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAM;MAAEC;IAAE,CAAC,GAAGF,OAAO,CAAC,CAAC;IACvB,MAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;IAE1B,MAAMG,KAAK,GAAGN,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMO,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMQ,IAAI,GAAGC,OAAO,CAAC,oBAAoB,CAAC;IAE1C,MAAMC,KAAK,GAAG,MAAAA,CAAA,KAAY;MACxB,IAAI,CAACJ,KAAK,CAACK,KAAK,IAAI,CAACJ,QAAQ,CAACI,KAAK,EAAE;QACnC,OAAO,CAAC;MACV;MACA,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,iCAAiC,EAAE;UACnEP,KAAK,EAAEA,KAAK,CAACK,KAAK;UAClBJ,QAAQ,EAAEA,QAAQ,CAACI;QACrB,CAAC,CAAC;QACFG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,IAAI,CAACC,YAAY,CAAC;QACzD;QACDZ,MAAM,CAACa,IAAI,CAAC,YAAY,CAAC;MAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,KAAK,CAAChB,CAAC,CAAC,0BAA0B,CAAC,CAAC;MACtC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}