{"ast":null,"code":"import { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6e8e3872\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"flex min-h-0 mb-5 mt-20 flex-col justify-center px-6 lg:px-8\"\n};\nconst _hoisted_2 = {\n  class: \"sm:mx-auto sm:w-full sm:max-w-sm\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\"\n};\nconst _hoisted_5 = {\n  class: \"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\"\n};\nconst _hoisted_6 = {\n  for: \"email\",\n  class: \"block text-sm font-medium leading-6 text-gray-900\"\n};\nconst _hoisted_7 = {\n  class: \"mt-2\"\n};\nconst _hoisted_8 = [\"placeholder\"];\nconst _hoisted_9 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_10 = {\n  for: \"password\",\n  class: \"block text-sm font-medium leading-6 text-gray-900\"\n};\nconst _hoisted_11 = {\n  class: \"mt-2\"\n};\nconst _hoisted_12 = [\"placeholder\"];\nconst _hoisted_13 = {\n  type: \"submit\",\n  class: \"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n};\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useI18n } from 'vue-i18n';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'Login',\n  setup(__props) {\n    const {\n      t\n    } = useI18n();\n    const router = useRouter();\n    const email = ref('');\n    const password = ref('');\n    const logo = require('../assets/logo.png');\n    const login = async () => {\n      if (!email.value || !password.value) {\n        return; // Impide el envío del formulario si los campos están vacíos\n      }\n      try {\n        const response = await axios.post('http://localhost:4000/api/login', {\n          email: email.value,\n          password: password.value\n        });\n        localStorage.setItem('token', response.data.access_token);\n        // Redirigir a una página protegida\n        router.push('/dashboard');\n      } catch (error) {\n        alert(t('login.invalidCredentials'));\n      }\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n        class: \"mx-auto h-10 w-auto\",\n        src: _unref(logo),\n        alt: \"Logo\"\n      }, null, 8, _hoisted_3), _createElementVNode(\"h2\", _hoisted_4, _toDisplayString(_unref(t)('login.title')), 1)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n        class: \"space-y-6\",\n        onSubmit: _withModifiers(login, [\"prevent\"])\n      }, [_createElementVNode(\"div\", null, [_createElementVNode(\"label\", _hoisted_6, _toDisplayString(_unref(t)('login.email')), 1), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => email.value = $event),\n        id: \"email\",\n        name: \"email\",\n        type: \"email\",\n        autocomplete: \"email\",\n        required: \"\",\n        placeholder: _unref(t)('login.emailPlaceholder'),\n        class: \"block w-full p-2.5 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n      }, null, 8, _hoisted_8), [[_vModelText, email.value]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"label\", _hoisted_10, _toDisplayString(_unref(t)('login.password')), 1)]), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => password.value = $event),\n        id: \"password\",\n        name: \"password\",\n        type: \"password\",\n        autocomplete: \"current-password\",\n        required: \"\",\n        placeholder: _unref(t)('login.passwordPlaceholder'),\n        class: \"block w-full p-2.5 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n      }, null, 8, _hoisted_12), [[_vModelText, password.value]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", _hoisted_13, _toDisplayString(_unref(t)('login.signIn')), 1)])], 32)])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","axios","useI18n","useRouter","t","router","email","password","logo","require","login","value","response","post","localStorage","setItem","data","access_token","push","error","alert"],"sources":["/home/alumno/HackatonF5/Frontend/hackathon-admin/src/components/Login.vue"],"sourcesContent":["<template>\n  <div class=\"flex min-h-0 mb-5 mt-20 flex-col justify-center px-6 lg:px-8\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n      <img class=\"mx-auto h-10 w-auto\" :src=\"logo\" alt=\"Logo\">\n      <h2 class=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">{{ t('login.title') }}</h2>\n    </div>\n\n    <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n      <form class=\"space-y-6\" @submit.prevent=\"login\">\n        <div>\n          <label for=\"email\" class=\"block text-sm font-medium leading-6 text-gray-900\">{{ t('login.email') }}</label>\n          <div class=\"mt-2\">\n            <input  v-model=\"email\" id=\"email\" name=\"email\" type=\"email\" autocomplete=\"email\" required :placeholder=\"t('login.emailPlaceholder')\" class=\"block w-full p-2.5 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n            <!-- <p v-if=\"!email\" class=\"text-sm text-red-500\">{{ t('login.emailRequired') }}</p> -->\n          </div>\n        </div>\n\n        <div>\n          <div class=\"flex items-center justify-between\">\n            <label for=\"password\" class=\"block text-sm font-medium leading-6 text-gray-900\">{{ t('login.password') }}</label>\n          </div>\n          <div class=\"mt-2\">\n            <input v-model=\"password\" id=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\" required :placeholder=\"t('login.passwordPlaceholder')\" class=\"block w-full p-2.5 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n            <!-- <p v-if=\"!password\" class=\"text-sm text-red-500\">{{ t('login.passwordRequired') }}</p> -->\n          </div>\n        </div>\n\n        <div>\n          <button type=\"submit\" class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">{{ t('login.signIn') }}</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useI18n } from 'vue-i18n';\nimport { useRouter } from 'vue-router';\n\nconst { t } = useI18n();\nconst router = useRouter();\n\nconst email = ref('');\nconst password = ref('');\nconst logo = require('../assets/logo.png');\n\nconst login = async () => {\n  if (!email.value || !password.value) {\n    return; // Impide el envío del formulario si los campos están vacíos\n  }\n  try {\n    const response = await axios.post('http://localhost:4000/api/login', {\n      email: email.value,\n      password: password.value\n    });\n    localStorage.setItem('token', response.data.access_token);\n    // Redirigir a una página protegida\n   router.push('/dashboard');\n  } catch (error) {\n    alert(t('login.invalidCredentials'));\n  }\n};\n</script>\n\n<style scoped>\n\n.mx-auto {\nwidth: 40%;\nheight: 40%;\n}\n\n\n\n\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,UAAU;AAClC,SAASC,SAAS,QAAQ,YAAY;;;;IAEtC,MAAM;MAAEC;IAAE,CAAC,GAAGF,OAAO,CAAC,CAAC;IACvB,MAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;IAE1B,MAAMG,KAAK,GAAGN,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMO,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMQ,IAAI,GAAGC,OAAO,CAAC,oBAAoB,CAAC;IAE1C,MAAMC,KAAK,GAAG,MAAAA,CAAA,KAAY;MACxB,IAAI,CAACJ,KAAK,CAACK,KAAK,IAAI,CAACJ,QAAQ,CAACI,KAAK,EAAE;QACnC,OAAO,CAAC;MACV;MACA,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,iCAAiC,EAAE;UACnEP,KAAK,EAAEA,KAAK,CAACK,KAAK;UAClBJ,QAAQ,EAAEA,QAAQ,CAACI;QACrB,CAAC,CAAC;QACFG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,IAAI,CAACC,YAAY,CAAC;QACzD;QACDZ,MAAM,CAACa,IAAI,CAAC,YAAY,CAAC;MAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,KAAK,CAAChB,CAAC,CAAC,0BAA0B,CAAC,CAAC;MACtC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}