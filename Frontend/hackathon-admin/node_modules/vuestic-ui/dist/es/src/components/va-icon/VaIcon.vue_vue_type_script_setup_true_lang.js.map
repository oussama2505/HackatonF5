{"version":3,"file":"VaIcon.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/va-icon/VaIcon.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"computedTag\"\n    class=\"va-icon\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n    :aria-hidden=\"ariaHiddenComputed\"\n    notranslate\n    v-bind=\"computedAttrs\"\n  >\n    <slot>\n      <template v-if=\"iconConfig.content\">\n        {{ iconConfig.content }}\n      </template>\n    </slot>\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed, useAttrs } from 'vue'\nimport omit from 'lodash/omit.js'\n\nimport {\n  useComponentPresetProp,\n  useColors,\n  useSize, useSizeProps,\n  useIcon,\n} from '../../composables'\n\ndefineOptions({\n  name: 'VaIcon',\n})\n\nconst props = defineProps({\n  ...useSizeProps,\n  ...useComponentPresetProp,\n  name: { type: String, default: '' },\n  tag: { type: String },\n  component: { type: Object as PropType<any> },\n  color: { type: String },\n  rotation: { type: [String, Number] },\n  spin: { type: [String, Boolean] },\n  flip: {\n    type: String as PropType<'off' | 'horizontal' | 'vertical' | 'both'>,\n    default: 'off',\n    validator: (value: string) => ['off', 'horizontal', 'vertical', 'both'].includes(value),\n  },\n})\n\nconst { getColor } = useColors()\nconst { sizeComputed } = useSize(props)\nconst { getIcon } = useIcon()\n\nconst iconConfig = computed(() => getIcon(props.name))\n\nconst computedTag = computed(() => props.component || props.tag || iconConfig.value.component || iconConfig.value.tag || 'i')\n\nconst attrs = useAttrs()\nconst computedAttrs = computed(() => ({ ...iconConfig.value.attrs, ...omit(attrs, ['class']) }))\n\nconst getSpinClass = (spin?: string | boolean) => {\n  if (spin === undefined || spin === false) { return }\n  return spin === 'counter-clockwise' ? 'va-icon--spin-reverse' : 'va-icon--spin'\n}\n\nconst computedClass = computed(() => [\n  iconConfig.value.class,\n  getSpinClass(props.spin ?? iconConfig.value.spin),\n])\n\nconst transformStyle = computed(() => {\n  const rotation = props.rotation ? `rotate(${props.rotation}deg)` : ''\n\n  const flipY = (props.flip === 'vertical' || props.flip === 'both') ? -1 : 1\n  const flipX = (props.flip === 'horizontal' || props.flip === 'both') ? -1 : 1\n  const scale = props.flip === 'off' ? '' : `scale(${flipY}, ${flipX})`\n\n  return `${scale} ${rotation}`.trim()\n})\n\nconst computedStyle = computed(() => ({\n  transform: transformStyle.value,\n  cursor: attrs.onClick ? 'pointer' : null,\n  color: props.color ? getColor(props.color, undefined, true) : iconConfig.value.color,\n  fontSize: sizeComputed.value,\n  height: sizeComputed.value,\n  lineHeight: sizeComputed.value,\n}))\n\nconst tabindexComputed = computed(() => attrs.tabindex as number | undefined ?? -1)\nconst ariaHiddenComputed = computed(() => attrs.role !== 'button' || tabindexComputed.value < 0)\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n@import '../../styles/resources';\n\n.va-icon {\n  vertical-align: var(--va-icon-vertical-align);\n  user-select: var(--va-icon-user-select);\n\n  &[role^=\"button\"][tabindex]:not([tabindex^=\"-\"]) {\n    cursor: pointer;\n\n    @include keyboard-focus-outline($radius: 2px);\n  }\n\n  &#{&} {\n    // need 2 classes to make it work\n    font-style: normal;\n  }\n\n  &--spin {\n    animation: va-icon--spin-animation 1500ms linear infinite;\n\n    &-reverse {\n      animation: va-icon--spin-animation 1500ms linear infinite;\n      animation-direction: reverse;\n    }\n  }\n\n  @keyframes va-icon--spin-animation {\n    from {\n      transform: rotate(0deg);\n    }\n\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  svg {\n    fill: currentColor;\n    height: 100%;\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,UAAM,QAAQ;AAgBR,UAAA,EAAE,aAAa;AACrB,UAAM,EAAE,aAAA,IAAiB,QAAQ,KAAK;AAChC,UAAA,EAAE,YAAY;AAEpB,UAAM,aAAa,SAAS,MAAM,QAAQ,MAAM,IAAI,CAAC;AAErD,UAAM,cAAc,SAAS,MAAM,MAAM,aAAa,MAAM,OAAO,WAAW,MAAM,aAAa,WAAW,MAAM,OAAO,GAAG;AAE5H,UAAM,QAAQ;AACd,UAAM,gBAAgB,SAAS,OAAO,EAAE,GAAG,WAAW,MAAM,OAAO,GAAG,KAAK,OAAO,CAAC,OAAO,CAAC,IAAI;AAEzF,UAAA,eAAe,CAAC,SAA4B;AAC5C,UAAA,SAAS,UAAa,SAAS,OAAO;AAAE;AAAA,MAAO;AAC5C,aAAA,SAAS,sBAAsB,0BAA0B;AAAA,IAAA;AAG5D,UAAA,gBAAgB,SAAS,MAAM;AAAA,MACnC,WAAW,MAAM;AAAA,MACjB,aAAa,MAAM,QAAQ,WAAW,MAAM,IAAI;AAAA,IAAA,CACjD;AAEK,UAAA,iBAAiB,SAAS,MAAM;AACpC,YAAM,WAAW,MAAM,WAAW,UAAU,MAAM,QAAQ,SAAS;AAEnE,YAAM,QAAS,MAAM,SAAS,cAAc,MAAM,SAAS,SAAU,KAAK;AAC1E,YAAM,QAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS,SAAU,KAAK;AACtE,YAAA,QAAQ,MAAM,SAAS,QAAQ,KAAK,SAAS,KAAK,KAAK,KAAK;AAElE,aAAO,GAAG,KAAK,IAAI,QAAQ,GAAG;IAAK,CACpC;AAEK,UAAA,gBAAgB,SAAS,OAAO;AAAA,MACpC,WAAW,eAAe;AAAA,MAC1B,QAAQ,MAAM,UAAU,YAAY;AAAA,MACpC,OAAO,MAAM,QAAQ,SAAS,MAAM,OAAO,QAAW,IAAI,IAAI,WAAW,MAAM;AAAA,MAC/E,UAAU,aAAa;AAAA,MACvB,QAAQ,aAAa;AAAA,MACrB,YAAY,aAAa;AAAA,IACzB,EAAA;AAEF,UAAM,mBAAmB,SAAS,MAAM,MAAM,YAAkC,EAAE;AAC5E,UAAA,qBAAqB,SAAS,MAAM,MAAM,SAAS,YAAY,iBAAiB,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;"}