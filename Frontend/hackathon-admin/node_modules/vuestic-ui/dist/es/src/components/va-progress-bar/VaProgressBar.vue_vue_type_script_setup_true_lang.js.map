{"version":3,"file":"VaProgressBar.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/va-progress-bar/VaProgressBar.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-progress-bar\"\n    :class=\"rootClass\"\n    :style=\"rooStyle\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div\n      v-if=\"!$props.contentInside\"\n      class=\"va-progress-bar__info\"\n    >\n      <slot v-bind=\"{ value: $props.modelValue }\">\n        <template v-if=\"$props.showPercent\">\n          {{ $props.modelValue }}%\n        </template>\n      </slot>\n    </div>\n\n    <div class=\"va-progress-bar__wrapper\" :style=\"wrapperStyle\">\n      <div class=\"va-progress-bar__buffer\" :style=\"bufferStyle\">\n        <slot v-if=\"$props.contentInside\" v-bind=\"{ value: $props.modelValue }\">\n          <template v-if=\"$props.showPercent\">\n            {{ $props.modelValue }}%\n          </template>\n        </slot>\n      </div>\n\n      <template v-if=\"indeterminate\">\n        <div\n          class=\"va-progress-bar__progress--indeterminate-start\"\n          :style=\"intermediateStyle\"\n        />\n        <div\n          class=\"va-progress-bar__progress--indeterminate-end\"\n          :style=\"intermediateStyle\"\n        />\n      </template>\n      <div v-else class=\"va-progress-bar__progress\" :style=\"progressStyle\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useComponentPresetProp } from '../../composables/useComponentPreset'\nimport { computed, PropType, StyleValue } from 'vue'\nimport clamp from 'lodash/clamp.js'\n\nimport { useColors, useTextColor, useTranslation, useTranslationProp } from '../../composables'\n\ndefineOptions({\n  name: 'VaProgressBar',\n})\n\nconst props = defineProps({\n  ...useComponentPresetProp,\n  modelValue: { type: [Number, String], default: 0 },\n  indeterminate: { type: Boolean, default: false },\n  color: { type: String, default: 'primary' },\n  size: {\n    type: [Number, String] as PropType<number | 'medium' | 'large' | 'small' | string>,\n    default: 'medium',\n  },\n  buffer: { type: [Number, String], default: 100 },\n  rounded: { type: Boolean, default: true },\n  reverse: { type: Boolean, default: false },\n  contentInside: { type: Boolean, default: false },\n  showPercent: { type: Boolean, default: false },\n  max: { type: [Number, String], default: 100 },\n  ariaLabel: useTranslationProp('$t:progressState'),\n})\n\nconst { getColor, getHoverColor } = useColors()\nconst colorComputed = computed(() => getColor(props.color))\nconst { textColorComputed } = useTextColor(colorComputed)\n\nconst isTextSize = computed(() => typeof props.size === 'string' && ['small', 'medium', 'large'].includes(props.size))\n\nconst getCSSHeight = () => {\n  if (typeof props.size === 'number') { return `${props.size}px` }\n  if (isTextSize.value) { return }\n\n  return props.size\n}\n\nconst { tp } = useTranslation()\n\nconst progressBarValue = computed(() => 100 / Number(props.max) * Number(props.modelValue))\n\nconst rootClass = computed(() => ({\n  'va-progress-bar--square': !props.rounded,\n  [`va-progress-bar--${props.size}`]: isTextSize.value,\n}))\n\nconst rooStyle = computed(() => (({\n  '--va-progress-bar-color': colorComputed.value,\n  '--va-progress-bar-background-color': getHoverColor(colorComputed.value),\n}) as StyleValue))\n\nconst wrapperStyle = computed(() => ({\n  height: getCSSHeight(),\n}))\n\nconst bufferStyle = computed(() => ({\n  width: `${props.indeterminate ? 100 : clamp(Number(props.buffer), 0, 100)}%`,\n  color: textColorComputed.value,\n  [props.reverse ? 'right' : 'left']: 0,\n}))\n\nconst progressStyle = computed(() => ({\n  marginLeft: props.reverse ? 'auto' : undefined,\n  width: `${clamp(progressBarValue.value, 0, 100)}%`,\n}))\n\nconst intermediateStyle = computed(() => ({\n  animationDirection: props.reverse ? 'reverse' : 'normal',\n}))\n\nconst ariaAttributesComputed = computed(() => ({\n  role: 'progressbar',\n  'aria-label': tp(props.ariaLabel),\n  'aria-valuenow': !props.indeterminate ? props.modelValue : undefined,\n}))\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-progress-bar {\n  $p: &;\n\n  width: var(--va-progress-bar-width);\n  position: relative;\n  overflow: hidden;\n  font-family: var(--va-font-family);\n  line-height: var(--va-progress-bar-line-height);\n\n  &__info {\n    font-weight: var(--va-progress-bar-info-font-weight);\n    text-align: var(--va-progress-bar-info-text-align);\n    text-transform: var(--va-progress-bar-info-text-transform);\n\n    &:not(:empty) {\n      margin-bottom: var(--va-progress-bar-info-not-empty-margin-bottom);\n    }\n  }\n\n  &__wrapper {\n    position: relative;\n    overflow: hidden;\n    border-radius: var(--va-progress-bar-border-radius);\n\n    #{$p}--small & {\n      height: var(--va-progress-bar-sm-height);\n    }\n\n    #{$p}--medium & {\n      height: var(--va-progress-bar-height);\n    }\n\n    #{$p}--large & {\n      height: var(--va-progress-bar-lg-height);\n    }\n  }\n\n  &--square &__wrapper {\n    --va-progress-bar-border-radius: 0;\n  }\n\n  &__buffer {\n    position: absolute;\n    top: 0;\n    height: inherit;\n    border-radius: inherit;\n    transition: var(--va-progress-bar-buffer-transition);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    letter-spacing: var(--va-progress-bar-letter-spacing);\n    font-size: var(--va-progress-bar-font-size);\n    font-weight: var(--va-progress-bar-font-weight);\n    background-color: var(--va-progress-bar-background-color);\n  }\n\n  &__progress {\n    height: inherit;\n    border-radius: inherit;\n    transition: var(--va-progress-bar-transition);\n    background-color: var(--va-progress-bar-color);\n\n    &--indeterminate-start {\n      background-color: var(--va-progress-bar-color);\n      animation: va-progress-bar-indeterminate-start 2s ease-in infinite;\n      position: absolute;\n      height: inherit;\n    }\n\n    &--indeterminate-end {\n      background-color: var(--va-progress-bar-color);\n      animation: va-progress-bar-indeterminate-end 2s ease-out 1s infinite;\n      position: absolute;\n      height: inherit;\n    }\n  }\n}\n\n@keyframes va-progress-bar-indeterminate-start {\n  0% {\n    width: 10%;\n    left: -10%;\n  }\n\n  50% {\n    width: 100%;\n    left: 100%;\n  }\n\n  100% {\n    width: 100%;\n    left: 100%;\n  }\n}\n\n@keyframes va-progress-bar-indeterminate-end {\n  0% {\n    width: 100%;\n    left: -100%;\n  }\n\n  50% {\n    width: 10%;\n    left: 100%;\n  }\n\n  100% {\n    width: 10%;\n    left: 100%;\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,UAAM,QAAQ;AAkBd,UAAM,EAAE,UAAU,cAAc,IAAI,UAAU;AAC9C,UAAM,gBAAgB,SAAS,MAAM,SAAS,MAAM,KAAK,CAAC;AAC1D,UAAM,EAAE,kBAAA,IAAsB,aAAa,aAAa;AAExD,UAAM,aAAa,SAAS,MAAM,OAAO,MAAM,SAAS,YAAY,CAAC,SAAS,UAAU,OAAO,EAAE,SAAS,MAAM,IAAI,CAAC;AAErH,UAAM,eAAe,MAAM;AACrB,UAAA,OAAO,MAAM,SAAS,UAAU;AAAS,eAAA,GAAG,MAAM,IAAI;AAAA,MAAK;AAC/D,UAAI,WAAW,OAAO;AAAE;AAAA,MAAO;AAE/B,aAAO,MAAM;AAAA,IAAA;AAGT,UAAA,EAAE,OAAO;AAET,UAAA,mBAAmB,SAAS,MAAM,MAAM,OAAO,MAAM,GAAG,IAAI,OAAO,MAAM,UAAU,CAAC;AAEpF,UAAA,YAAY,SAAS,OAAO;AAAA,MAChC,2BAA2B,CAAC,MAAM;AAAA,MAClC,CAAC,oBAAoB,MAAM,IAAI,EAAE,GAAG,WAAW;AAAA,IAC/C,EAAA;AAEI,UAAA,WAAW,SAAS,OAAQ;AAAA,MAChC,2BAA2B,cAAc;AAAA,MACzC,sCAAsC,cAAc,cAAc,KAAK;AAAA,IACxD,EAAA;AAEX,UAAA,eAAe,SAAS,OAAO;AAAA,MACnC,QAAQ,aAAa;AAAA,IACrB,EAAA;AAEI,UAAA,cAAc,SAAS,OAAO;AAAA,MAClC,OAAO,GAAG,MAAM,gBAAgB,MAAM,MAAM,OAAO,MAAM,MAAM,GAAG,GAAG,GAAG,CAAC;AAAA,MACzE,OAAO,kBAAkB;AAAA,MACzB,CAAC,MAAM,UAAU,UAAU,MAAM,GAAG;AAAA,IACpC,EAAA;AAEI,UAAA,gBAAgB,SAAS,OAAO;AAAA,MACpC,YAAY,MAAM,UAAU,SAAS;AAAA,MACrC,OAAO,GAAG,MAAM,iBAAiB,OAAO,GAAG,GAAG,CAAC;AAAA,IAC/C,EAAA;AAEI,UAAA,oBAAoB,SAAS,OAAO;AAAA,MACxC,oBAAoB,MAAM,UAAU,YAAY;AAAA,IAChD,EAAA;AAEI,UAAA,yBAAyB,SAAS,OAAO;AAAA,MAC7C,MAAM;AAAA,MACN,cAAc,GAAG,MAAM,SAAS;AAAA,MAChC,iBAAiB,CAAC,MAAM,gBAAgB,MAAM,aAAa;AAAA,IAC3D,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}