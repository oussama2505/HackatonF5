{"version":3,"file":"VaRadio.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/va-radio/VaRadio.vue"],"sourcesContent":["<template>\n  <VaMessageListWrapper\n    :disabled=\"disabled\"\n    :success=\"success\"\n    :messages=\"messages\"\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"errorCount\"\n    @blur=\"onBlur\"\n    #default=\"{ ariaAttributes }\"\n   :style=\"`--va-flex-direction: ${String(flexDirection)};--va-label-style-color: ${String(labelStyle.color)};--va-icon-computed-styles-border-color: ${String(iconComputedStyles.borderColor)};--va-icon-dot-computed-styles-border-color: ${String(iconDotComputedStyles.borderColor)};--va-icon-dot-computed-styles-background-color: ${String(iconDotComputedStyles.backgroundColor)};--va-icon-background-computed-styles-background-color: ${String(iconBackgroundComputedStyles.backgroundColor)}`\">\n    <div\n      ref=\"container\"\n      class=\"va-radio\"\n      :role=\"roleComputed\"\n      v-bind=\"ariaAttributes\"\n    >\n      <label\n        v-for=\"(option, index) in computedOptions\"\n        :key=\"index\"\n        :class=\"radioClass(option)\"\n        class=\"va-radio__square\"\n      >\n        <input\n          ref=\"input\"\n          class=\"va-radio__input\"\n          type=\"radio\"\n          role=\"radio\"\n          :value=\"isChecked(option)\"\n          :checked=\"isChecked(option)\"\n          :aria-checked=\"isChecked(option)\"\n          v-bind=\"{ ...inputAttributesComputed(option), ...ariaAttributes }\"\n          @change=\"selectOption(getValue(option), $event)\"\n          @focus=\"onFocus\"\n          @blur=\"onBlur\"\n        />\n\n        <slot name=\"icon\" v-bind=\"{\n          value: isChecked(option),\n          text: getText(option),\n          disabled: getDisabled(option),\n          index,\n        }\">\n          <span\n            aria-hidden=\"true\"\n            class=\"va-radio__icon\"\n          >\n            <span\n              class=\"va-radio__icon__background\"\n            />\n            <span class=\"va-radio__icon__dot\" />\n          </span>\n        </slot>\n\n        <div\n          v-if=\"getText(option) || $slots.default\"\n          ref=\"label\"\n          class=\"va-radio__text\"\n        >\n          <slot v-bind=\"{\n            value: isChecked(option),\n            text: getText(option),\n            disabled: getDisabled(option),\n            index,\n          }\">\n            {{ getText(option) }}\n          </slot>\n        </div>\n      </label>\n    </div>\n  </VaMessageListWrapper>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed, shallowRef } from 'vue'\n\nimport {\n  useComponentPresetProp,\n  useColors,\n  useSelectable,\n  Elements,\n  useSelectableProps,\n  useSelectableEmits,\n  useSelectableList,\n  useSelectableListProps,\n} from '../../composables'\nimport { VaMessageListWrapper } from '../va-message-list'\nimport type { VaRadioOption } from './types'\nimport { useComponentUuid } from '../../composables/useComponentUuid'\n\ndefineOptions({\n  name: 'VaRadio',\n})\n\nconst props = defineProps({\n  ...useSelectableProps,\n  ...useComponentPresetProp,\n  ...useSelectableListProps,\n  modelValue: {\n    type: [Boolean, Array, String, Object, Number] as PropType<\n        VaRadioOption['value']\n      >,\n    default: null,\n  },\n  options: {\n    type: Array<VaRadioOption>,\n    default: () => [],\n  },\n  name: { type: String, default: '' },\n  label: { type: String, default: undefined },\n  leftLabel: { type: Boolean, default: false },\n  color: { type: String, default: 'primary' },\n  option: {\n    type: [Object, String, Number] as PropType<VaRadioOption>,\n    default: undefined,\n  },\n  vertical: { type: Boolean, default: false },\n})\n\nconst emit = defineEmits(useSelectableEmits)\n\nconst { getColor } = useColors()\nconst elements: Elements = {\n  container: shallowRef<HTMLElement>(),\n  input: shallowRef<HTMLElement>(),\n  label: shallowRef<HTMLElement>(),\n}\n\nconst {\n  computedError,\n  computedErrorMessages,\n  validationAriaAttributes,\n  onBlur,\n  onFocus,\n} = useSelectable(props, emit, elements)\n\nconst { getText: originalGetText, getDisabled: originalGetDisabled, getValue } = useSelectableList(props)\n\nconst getText = (option: Parameters<typeof originalGetText>[0]) => {\n  if (props.options.length > 0) { return originalGetText(option) }\n\n  return props.label ?? originalGetText(option)\n}\nconst getDisabled = (option: Parameters<typeof originalGetDisabled>[0]) => originalGetDisabled(option) || props.disabled\n\nconst isNoOption = computed(() => props.options.length === 0 && !props.option)\n\nconst isChecked = (option: VaRadioOption) => {\n  if (isNoOption.value) {\n    return props.modelValue\n  }\n\n  return props.modelValue === getValue(option)\n}\n\nconst computedOptions = computed(() => {\n  if (isNoOption.value) {\n    return [{}]\n  }\n\n  if (props.option) {\n    return [props.option]\n  } else {\n    return props.options\n  }\n})\n\nconst radioClass = (option: VaRadioOption) => ({\n  'va-radio--left-label': props.leftLabel,\n  'va-radio--selected': isChecked(option),\n  'va-radio--readonly': props.readonly,\n  'va-radio--disabled': props.disabled,\n  'va-radio--indeterminate': props.indeterminate,\n  'va-radio--error': computedError.value,\n  'va-radio--single-option': isNoOption.value,\n})\n\nconst selectOption = (option: any, event?: any) => {\n  if (isNoOption.value) {\n    emit('update:modelValue', event?.target?.checked || false)\n    return\n  }\n\n  emit('update:modelValue', option)\n}\n\nconst labelStyle = computed(() => {\n  return {\n    color: computedError.value ? getColor('danger') : '',\n  }\n})\n\nconst inputStyle = computed(() => {\n  const style = {\n    background: getColor(props.color),\n    borderColor: getColor(props.color),\n  }\n\n  if (computedError.value) {\n    style.borderColor = getColor('danger')\n  }\n\n  return style\n})\n\nconst iconBackgroundComputedStyles = computed(() => ({\n  backgroundColor: getColor(props.color),\n}))\n\nconst iconDotComputedStyles = computed(() => {\n  return {\n    borderColor: computedError.value ? getColor('danger') : getColor(props.color),\n    backgroundColor: getColor(props.color),\n  }\n})\n\nconst iconComputedStyles = computed(() => {\n  return { borderColor: computedError.value ? getColor('danger') : getColor(props.color) }\n})\n\nconst componentId = useComponentUuid()\nconst computedName = computed(() => props.name || componentId)\nconst inputAttributesComputed = (option: any) => {\n  const disabled = getDisabled(option)\n  return {\n    name: computedName.value,\n    disabled: disabled,\n    readonly: props.readonly,\n    tabindex: disabled ? -1 : 0,\n  }\n}\n\nconst flexDirection = computed(() => props.vertical ? 'column' : 'row')\n\nconst roleComputed = computed(() => props.options?.length > 0 ? 'radiogroup' : '')\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-radio {\n  display: flex;\n  width: max-content;\n  flex-direction: var(--va-flex-direction);\n  gap: var(--va-radio-gap);\n\n  &__square {\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n    cursor: var(--va-radio-cursor);\n    position: var(--va-radio-position);\n    margin-top: var(--va-radio-margin-top);\n    margin-right: var(--va-radio-margin-right);\n    transition: var(--va-radio-transition, var(--va-swing-transition));\n    font-family: var(--va-font-family);\n    color: var(--va-label-style-color);\n  }\n\n  & + & {\n    margin-top: 0.5rem;\n  }\n\n  .va-radio:last-child {\n    margin: 0;\n  }\n\n  &--disabled {\n    cursor: var(--va-radio-disabled-cursor);\n  }\n\n  &--readonly {\n    @include va-readonly;\n\n    .va-radio--left-label,\n    .va-radio__text {\n      cursor: initial;\n      pointer-events: none;\n    }\n  }\n\n  &--left-label {\n    flex-direction: row-reverse;\n    display: inline-flex;\n    align-items: center;\n\n    &.va-radio__square {\n      justify-content: space-between;\n    }\n  }\n\n  &__input {\n    @include visually-hidden;\n  }\n\n  &__icon {\n    transition: var(--va-radio-icon-transition);\n    display: flex;\n    align-items: center;\n    width: var(--va-radio-icon-width);\n    height: var(--va-radio-icon-height);\n    border-color: var(--va-icon-computed-styles-border-color);\n    border-radius: var(--va-radio-icon-border-radius);\n    background: var(--va-radio-background);\n    position: relative;\n    border: var(--va-radio-icon-border);\n    box-sizing: border-box;\n    margin: 4px;\n\n    .va-radio__input:disabled + & {\n      @include va-disabled;\n    }\n\n    .va-radio__input:focus-visible + & {\n      @include focus-outline('inherit');\n    }\n\n    &__dot {\n      transition: var(--va-radio-dot-transition, var(--va-swing-transition));\n      position: absolute;\n      top: var(--va-radio-dot-top);\n      left: var(--va-radio-dot-left);\n      right: var(--va-radio-dot-right);\n      bottom: var(--va-radio-dot-bottom);\n      border-radius: var(--va-radio-dot-border-radius);\n      opacity: var(--va-radio-dot-opacity);\n      border-color: var(--va-icon-dot-computed-styles-border-color);\n      background-color: var(--va-icon-dot-computed-styles-background-color);\n\n      .va-radio__input:checked + .va-radio__icon & {\n        opacity: 1;\n        top: 0.25rem;\n        left: 0.25rem;\n        right: 0.25rem;\n        bottom: 0.25rem;\n      }\n    }\n\n    &__background {\n      transition:\n        var(\n          --va-radio-background-transition,\n          var(--va-swing-transition)\n        );\n      position: absolute;\n      top: var(--va-radio-background-top);\n      left: var(--va-radio-background-left);\n      right: var(--va-radio-background-right);\n      bottom: var(--va-radio-background-bottom);\n      border-radius: var(--va-radio-background-border-radius);\n      z-index: var(--va-radio-background-z-index);\n      opacity: var(--va-radio-background-opacity);\n      background-color: var(--va-icon-background-computed-styles-background-color);\n\n      .va-radio__square:hover & {\n        opacity: 0.2;\n      }\n\n      .va-radio--disabled .va-radio__square:hover & {\n        opacity: 0;\n      }\n    }\n  }\n\n  &__text {\n    display: var(--va-radio-text-display);\n    margin-left: var(--va-radio-text-margin-left);\n    margin-right: var(--va-radio-text-margin-right);\n    white-space: nowrap;\n\n    .va-radio--disabled & {\n      @include va-disabled;\n    }\n\n    .va-radio--left-label & {\n      margin-right: var(--va-radio-text-margin-left);\n      margin-left: var(--va-radio-text-margin-right);\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":"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"}