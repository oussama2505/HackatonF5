{"version":3,"file":"VaSidebarItem.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../src/components/va-sidebar/VaSidebarItem/VaSidebarItem.vue"],"sourcesContent":["<template>\n  <component\n    ref=\"rootElement\"\n    class=\"va-sidebar__item va-sidebar-item\"\n    :tabindex=\"$props.disabled ? -1 : 0\"\n    :class=\"{\n      'va-sidebar-item--active': $props.active,\n      'va-sidebar-item--disabled': $props.disabled,\n    }\"\n    :style=\"computedStyle\"\n    :is=\"tagComputed\"\n    v-bind=\"linkAttributesComputed\"\n    v-on=\"keyboardFocusListeners\"\n  >\n    <slot />\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, toRef } from 'vue'\n\nimport {\n  applyColors,\n  useElementRef,\n  useColors,\n  useKeyboardOnlyFocus,\n  useHover,\n  useRouterLink,\n  useRouterLinkProps,\n  useTextColor,\n} from '../../../composables'\nimport { useSidebarItem } from '../hooks/useSidebar'\nimport { useComponentPresetProp } from '../../../composables/useComponentPreset'\n\ndefineOptions({\n  name: 'VaSidebarItem',\n})\n\nconst props = defineProps({\n  ...useRouterLinkProps,\n  ...useComponentPresetProp,\n  active: { type: Boolean, default: false },\n  textColor: { type: String, default: undefined },\n  activeColor: { type: String, default: 'primary' },\n  hoverColor: { type: String, default: undefined },\n  hoverOpacity: { type: [Number, String], default: 0.2 },\n  borderColor: { type: String, default: undefined },\n  disabled: { type: Boolean, default: false },\n})\n\nconst rootElement = useElementRef()\nconst sidebar = useSidebarItem()\n\nconst { isHovered } = useHover(rootElement, toRef(props, 'disabled'))\nconst { getColor, getHoverColor, getFocusColor } = useColors()\nconst { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n\nconst backgroundColorComputed = computed(() => {\n  if (props.active && !isHovered.value && !hasKeyboardFocus.value) {\n    return getColor(props.activeColor)\n  }\n\n  if (hasKeyboardFocus.value) {\n    return getFocusColor(getColor(props.hoverColor || props.activeColor))\n  }\n\n  return '#ffffff00'\n})\n\nconst textBackground = computed(() => applyColors(getColor(sidebar?.color), backgroundColorComputed.value))\nconst { textColorComputed } = useTextColor(textBackground)\n\nconst computedStyle = computed(() => {\n  const style: Record<string, string> = { color: textColorComputed.value }\n\n  if (props.disabled) {\n    return style\n  }\n\n  if (isHovered.value || props.active || hasKeyboardFocus.value) {\n    style.backgroundColor = backgroundColorComputed.value\n  }\n\n  if (props.active) {\n    const mergedProps = { ...sidebar, ...props }\n    style.borderColor = getColor(mergedProps.borderColor || mergedProps.activeColor)\n  }\n\n  if (hasKeyboardFocus.value) {\n    style.backgroundColor = getFocusColor(getColor(props.hoverColor || props.activeColor))\n  }\n\n  if (isHovered.value) {\n    style.backgroundColor = getHoverColor(\n      getColor(props.hoverColor || props.activeColor), Number(props.hoverOpacity),\n    )\n  }\n\n  return style\n})\n\nconst { tagComputed, linkAttributesComputed } = useRouterLink(props)\n</script>\n\n<style lang=\"scss\">\n@import \"../variables\";\n@import \"../../../styles/resources\";\n\n.va-sidebar-item {\n  border-left: var(--va-sidebar-item-active-border-size) solid transparent;\n  padding-right: var(--va-sidebar-item-active-border-size);\n  display: inline-block;\n  width: 100%;\n  font-family: var(--va-font-family);\n  transition: var(--va-sidebar-item-transition);\n  box-sizing: border-box;\n  color: currentColor;\n  cursor: pointer;\n\n  &--disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  @include keyboard-focus-outline(\"inherit\", 2px, -2px);\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,UAAM,QAAQ;AAYd,UAAM,cAAc;AACpB,UAAM,UAAU;AAEV,UAAA,EAAE,UAAc,IAAA,SAAS,aAAa,MAAM,OAAO,UAAU,CAAC;AACpE,UAAM,EAAE,UAAU,eAAe,kBAAkB,UAAU;AAC7D,UAAM,EAAE,kBAAkB,uBAAuB,IAAI,qBAAqB;AAEpE,UAAA,0BAA0B,SAAS,MAAM;AAC7C,UAAI,MAAM,UAAU,CAAC,UAAU,SAAS,CAAC,iBAAiB,OAAO;AACxD,eAAA,SAAS,MAAM,WAAW;AAAA,MACnC;AAEA,UAAI,iBAAiB,OAAO;AAC1B,eAAO,cAAc,SAAS,MAAM,cAAc,MAAM,WAAW,CAAC;AAAA,MACtE;AAEO,aAAA;AAAA,IAAA,CACR;AAEK,UAAA,iBAAiB,SAAS,MAAM,YAAY,SAAS,mCAAS,KAAK,GAAG,wBAAwB,KAAK,CAAC;AAC1G,UAAM,EAAE,kBAAA,IAAsB,aAAa,cAAc;AAEnD,UAAA,gBAAgB,SAAS,MAAM;AACnC,YAAM,QAAgC,EAAE,OAAO,kBAAkB,MAAM;AAEvE,UAAI,MAAM,UAAU;AACX,eAAA;AAAA,MACT;AAEA,UAAI,UAAU,SAAS,MAAM,UAAU,iBAAiB,OAAO;AAC7D,cAAM,kBAAkB,wBAAwB;AAAA,MAClD;AAEA,UAAI,MAAM,QAAQ;AAChB,cAAM,cAAc,EAAE,GAAG,SAAS,GAAG,MAAM;AAC3C,cAAM,cAAc,SAAS,YAAY,eAAe,YAAY,WAAW;AAAA,MACjF;AAEA,UAAI,iBAAiB,OAAO;AAC1B,cAAM,kBAAkB,cAAc,SAAS,MAAM,cAAc,MAAM,WAAW,CAAC;AAAA,MACvF;AAEA,UAAI,UAAU,OAAO;AACnB,cAAM,kBAAkB;AAAA,UACtB,SAAS,MAAM,cAAc,MAAM,WAAW;AAAA,UAAG,OAAO,MAAM,YAAY;AAAA,QAAA;AAAA,MAE9E;AAEO,aAAA;AAAA,IAAA,CACR;AAED,UAAM,EAAE,aAAa,uBAAuB,IAAI,cAAc,KAAK;;;;;;;;;;;;;;;;;;;;"}