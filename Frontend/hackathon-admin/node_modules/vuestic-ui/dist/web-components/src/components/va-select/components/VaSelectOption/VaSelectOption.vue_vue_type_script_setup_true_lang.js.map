{"version":3,"file":"VaSelectOption.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../../src/components/va-select/components/VaSelectOption/VaSelectOption.vue"],"sourcesContent":["<template>\n  <div\n    role=\"option\"\n    class=\"va-select-option\"\n    :class=\"optionClass\"\n    :style=\"optionStyle\"\n    :aria-selected=\"isSelected\"\n  >\n    <slot name=\"option-content\">\n      <va-icon\n        v-if=\"optionIcon\"\n        size=\"small\"\n        class=\"va-select-option__icon\"\n        :name=\"optionIcon\"\n      />\n      {{ optionTextSplitted.start }}\n      <span\n        v-if=\"optionTextSplitted.searchedSubString\"\n        class=\"va-select-option__highlighted\"\n      >\n        {{ optionTextSplitted.searchedSubString }}\n      </span>\n      {{ optionTextSplitted.end }}\n    </slot>\n    <va-icon\n      v-show=\"isSelected\"\n      class=\"va-select-option__selected-icon\"\n      size=\"small\"\n      name=\"va-check\"\n      :color=\"optionIconColor\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ComputedRef, type PropType } from 'vue'\n\nimport { useColors, useColorProps, useBem, useNumericProp } from '../../../../composables'\n\nimport { VaIcon } from '../../../va-icon'\n\nimport { isObject } from '../../../../utils/is-object'\n\nimport type { SelectableOption } from '../../../../composables'\n\ndefineOptions({\n  name: 'VaSelectOption',\n})\n\nconst props = defineProps({\n  ...useColorProps,\n  disabled: { type: Boolean, default: false },\n  option: { type: [Number, String, Boolean, Object] as PropType<SelectableOption>, default: () => ({}) },\n  getText: { type: Function as PropType<(option: SelectableOption) => string>, required: true },\n  getTrackBy: { type: Function as PropType<(option: SelectableOption) => number | string>, required: true },\n  currentOption: { type: [String, Number, Boolean, Object] as PropType<SelectableOption | null>, default: null },\n  getSelectedState: { type: Function as PropType<(option: SelectableOption) => boolean>, required: true },\n  search: { type: String, default: '' },\n  highlightMatchedText: { type: Boolean, default: true },\n  inputFocused: { type: Boolean, default: false },\n  minSearchChars: { type: [Number, String], default: 0 },\n})\n\nconst { getColor, getHoverColor } = useColors()\nconst minSearchCharsComputed = useNumericProp('minSearchChars') as ComputedRef<number>\n\nconst optionIcon = computed(() => isObject(props.option) ? (props.option.icon as string) : undefined)\nconst optionIconColor = computed(() => getColor(props.color))\n\nconst optionText = computed(() => props.getText(props.option))\nconst optionTextSplitted = computed(() => {\n  const defaultSplit = { start: optionText.value, searchedSubString: '', end: '' }\n\n  if (!optionText.value || !props.search || !props.highlightMatchedText || props.search.length < minSearchCharsComputed.value) {\n    return defaultSplit\n  }\n\n  const substringStartIndex = optionText.value.toLowerCase().indexOf(props.search.toLowerCase())\n\n  if (substringStartIndex < 0) { return defaultSplit }\n\n  const start = optionText.value.slice(0, substringStartIndex)\n  const searchedSubString = optionText.value.slice(substringStartIndex, substringStartIndex + props.search.length)\n  const end = optionText.value.slice(substringStartIndex + props.search.length)\n\n  return { start, searchedSubString, end }\n})\n\nconst isSelected = computed(() => props.getSelectedState(props.option))\nconst isFocused = computed(() => {\n  if (typeof props.option === 'string') { return props.option === props.currentOption }\n\n  return props.getTrackBy(props.currentOption) === props.getTrackBy(props.option)\n})\n\nconst optionClass = useBem('va-select-option', () => ({\n  selected: isSelected.value,\n}))\n\nconst optionStyle = computed(() => ({\n  color: isSelected.value ? getColor(props.color) : 'inherit',\n  backgroundColor: isFocused.value ? getHoverColor(getColor(props.color)) : 'transparent',\n  cursor: props.disabled ? 'default' : undefined,\n  opacity: props.disabled ? 'var(--va-select-option-list-option-disabled-opacity)' : undefined,\n}))\n\ndefineExpose({\n  isFocused,\n  isSelected,\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-select-option {\n  min-height: var(--va-select-option-list-option-min-height);\n  padding: var(--va-select-option-list-option-padding);\n  display: var(--va-select-option-list-option-display);\n  align-items: var(--va-select-option-list-option-align-items);\n  word-break: var(--va-select-option-list-option-word-break);\n  cursor: var(--va-select-option-list-option-cursor);\n\n  &__icon {\n    margin-right: var(--va-select-option-list-option-icon-margin-right);\n  }\n\n  &__selected-icon {\n    margin-left: var(--va-select-option-list-option-selected-icon-margin-left);\n    font-size: var(--va-select-option-list-option-selected-icon-font-size);\n  }\n\n  &__highlighted {\n    color: var(--va-select-option-list-option-highlighted-color);\n    background-color: var(--va-select-option-list-option-highlighted-background-color);\n    border-radius: var(--va-select-option-list-option-highlighted-border-radius);\n    margin: var(--va-select-option-list-option-highlighted-margin);\n    padding: var(--va-select-option-list-option-highlighted-padding);\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,UAAM,QAAQ;AAcd,UAAM,EAAE,UAAU,cAAc,IAAI,UAAU;AACxC,UAAA,yBAAyB,eAAe,gBAAgB;AAExD,UAAA,aAAa,SAAS,MAAM,SAAS,MAAM,MAAM,IAAK,MAAM,OAAO,OAAkB,MAAS;AACpG,UAAM,kBAAkB,SAAS,MAAM,SAAS,MAAM,KAAK,CAAC;AAE5D,UAAM,aAAa,SAAS,MAAM,MAAM,QAAQ,MAAM,MAAM,CAAC;AACvD,UAAA,qBAAqB,SAAS,MAAM;AAClC,YAAA,eAAe,EAAE,OAAO,WAAW,OAAO,mBAAmB,IAAI,KAAK;AAE5E,UAAI,CAAC,WAAW,SAAS,CAAC,MAAM,UAAU,CAAC,MAAM,wBAAwB,MAAM,OAAO,SAAS,uBAAuB,OAAO;AACpH,eAAA;AAAA,MACT;AAEM,YAAA,sBAAsB,WAAW,MAAM,YAAA,EAAc,QAAQ,MAAM,OAAO,YAAA,CAAa;AAE7F,UAAI,sBAAsB,GAAG;AAAS,eAAA;AAAA,MAAa;AAEnD,YAAM,QAAQ,WAAW,MAAM,MAAM,GAAG,mBAAmB;AACrD,YAAA,oBAAoB,WAAW,MAAM,MAAM,qBAAqB,sBAAsB,MAAM,OAAO,MAAM;AAC/G,YAAM,MAAM,WAAW,MAAM,MAAM,sBAAsB,MAAM,OAAO,MAAM;AAErE,aAAA,EAAE,OAAO,mBAAmB;IAAI,CACxC;AAED,UAAM,aAAa,SAAS,MAAM,MAAM,iBAAiB,MAAM,MAAM,CAAC;AAChE,UAAA,YAAY,SAAS,MAAM;AAC3B,UAAA,OAAO,MAAM,WAAW,UAAU;AAAS,eAAA,MAAM,WAAW,MAAM;AAAA,MAAc;AAE7E,aAAA,MAAM,WAAW,MAAM,aAAa,MAAM,MAAM,WAAW,MAAM,MAAM;AAAA,IAAA,CAC/E;AAEK,UAAA,cAAc,OAAO,oBAAoB,OAAO;AAAA,MACpD,UAAU,WAAW;AAAA,IACrB,EAAA;AAEI,UAAA,cAAc,SAAS,OAAO;AAAA,MAClC,OAAO,WAAW,QAAQ,SAAS,MAAM,KAAK,IAAI;AAAA,MAClD,iBAAiB,UAAU,QAAQ,cAAc,SAAS,MAAM,KAAK,CAAC,IAAI;AAAA,MAC1E,QAAQ,MAAM,WAAW,YAAY;AAAA,MACrC,SAAS,MAAM,WAAW,yDAAyD;AAAA,IACnF,EAAA;AAEW,aAAA;AAAA,MACX;AAAA,MACA;AAAA,IAAA,CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}